Documento de Requerimientos - Sistema
de Gestión de Afilado de Sierras Austech
1. Introducción
Este documento detalla los requerimientos funcionales y no funcionales para el
desarrollo de un sistema de gestión de afilado de sierras para la empresa
Austech. El sistema permitirá el registro, seguimiento y administración del
proceso de afilado de sierras para diferentes clientes.
2. Arquitectura Tecnológica
Base de datos: Supabase (PostgreSQL)
Backend y Frontend: Next.js (Framework Full-Stack basado en React)
Autenticación: Sistema de autenticación de Supabase con enfoque híbrido
para la gestión de roles y perfiles
3. Requerimientos Funcionales
3.1. Autenticación y Gestión de Usuarios
3.1.1. Autenticación de Usuarios
El sistema debe permitir el inicio de sesión de usuarios con diferentes roles:
Gerente, Administrador y Cliente.
El sistema debe gestionar las credenciales de forma segura mediante
Supabase Auth.
3.1.2. Gestión de Usuarios (Rol Gerente)
El Gerente debe poder crear nuevas cuentas de usuario.
El Gerente debe poder asignar roles a los usuarios (Gerente, Administrador,
Cliente).
El Gerente debe poder asociar usuarios con el rol "Cliente" a una empresa
específica.
Sin título 1
3.2. Gestión de Empresas
El sistema debe permitir la creación de nuevas empresas cliente,
incluyendo los siguientes atributos:
Razón Social
RUT
Dirección
Teléfono
Email
Estado "Activo" (booleano)
El sistema debe permitir la lectura, actualización y eliminación (lógica) de la
información de las empresas.
3.3. Gestión de Sucursales
El sistema debe permitir la creación de nuevas sucursales, asociándolas a
una empresa cliente, con atributos:
Nombre
Dirección
Teléfono
Estado "Activo" (booleano)
El sistema debe permitir la lectura, actualización y eliminación (lógica) de la
información de las sucursales.
Una empresa puede tener cero o muchas sucursales asociadas.
3.4. Gestión de Tipos de Sierra
El sistema debe permitir la creación de nuevos tipos de sierra, incluyendo:
Nombre
Descripción
Estado "Activo" (booleano)
El sistema debe permitir la lectura, actualización y eliminación (lógica) de
los tipos de sierra.
Sin título 2
3.5. Gestión de Sierras
El sistema debe permitir el registro de nuevas sierras, incluyendo:
Código de Barras (único)
Sucursal a la que pertenece
Tipo de Sierra
Estado de Sierra
Fecha de Registro
Estado "Activo" (booleano)
El sistema debe permitir la búsqueda de sierras por su código de barras,
especialmente mediante el uso de un lector de códigos de barras.
Al intentar registrar un nuevo afilado para una sierra, el sistema debe
validar que la sierra esté activa (campo "Activo" = TRUE).
3.6. Gestión de Estados de Sierra
El sistema debe manejar internamente diferentes estados para las sierras,
como:
Disponible
En Proceso de Afilado
Lista para Retiro
Fuera de Servicio
3.7 . Gestión de Tipos de Afilado
El sistema debe permitir la creación de nuevos tipos de afilado, incluyendo:
Nombre
Descripción
El sistema debe permitir la lectura, actualización y eliminación de los tipos
de afilado.
3.8. Gestión de Afilados
El sistema debe permitir el registro de un nuevo afilado para una sierra
específica, asociándolo a:
Sin título 3
Un tipo de afilado
El usuario que realiza el registro
Fecha del afilado
Al registrar un nuevo afilado, el sistema debe validar que el último registro
de afilado para esa sierra tenga una fecha de salida registrada.
El sistema debe permitir la inclusión de observaciones para cada registro
de afilado (campo opcional).
El sistema debe permitir registrar la fecha de salida de una sierra después
de ser afilada.
3.9. Registro de Salida Masiva
El sistema debe proporcionar un módulo para registrar la salida de múltiples
sierras de forma masiva.
Este módulo debe permitir escanear los códigos de barras de las sierras.
El sistema debe verificar que el último afilado de las sierras escaneadas no
tenga una fecha de salida registrada antes de permitir su inclusión en el
registro de salida masiva.
El sistema debe permitir registrar la fecha y hora actual como la fecha de
salida para todos los afilados de las sierras seleccionadas al confirmar la
salida masiva.
3.10. Gestión de Fin de Vida Útil de Sierras
El sistema debe proporcionar un módulo para marcar múltiples sierras
como fuera de servicio de forma masiva.
Este módulo debe permitir escanear los códigos de barras de las sierras.
El sistema debe verificar que el campo "Activo" de las sierras escaneadas
sea "TRUE" antes de permitir marcarlas como fuera de servicio.
El sistema debe permitir cambiar el estado "Activo" de las sierras
seleccionadas a "FALSE".
3.11. Reportes
El sistema debe generar un reporte del historial de afilados para cada
cliente.
Sin título 4
Los usuarios con rol Gerente y Administrador deben poder ver el historial
de afilados de todos los clientes.
Los usuarios con rol Cliente solo deben poder ver el historial de afilados de
las sierras asociadas a su empresa.
El reporte debe poder ser exportado a formato Excel.
4. Requerimientos No Funcionales
4.1. Usabilidad
La aplicación debe ser intuitiva y fácil de usar, especialmente para los
trabajadores de Austech que utilizarán la funcionalidad de escaneo y
registro de afilados.
La interfaz de usuario debe ser responsiva y adaptarse a diferentes
tamaños de pantalla.
4.2. Rendimiento
El sistema debe responder de manera eficiente a las consultas y
operaciones, especialmente en la búsqueda de sierras por código de
barras.
Las operaciones de lectura y escritura en la base de datos deben
optimizarse para evitar tiempos de respuesta largos.
4.3. Seguridad
El acceso al sistema debe estar protegido mediante autenticación robusta.
Los permisos deben estar definidos según los roles de usuario utilizando
Row Level Security de Supabase.
Las contraseñas y datos sensibles deben manejarse de forma segura.
4.4. Integridad de Datos
El sistema debe garantizar la integridad y consistencia de los datos,
evitando la pérdida o corrupción de la información.
Las operaciones críticas deben ser transaccionales para mantener la
consistencia en caso de fallos.
4.5. Escalabilidad
Sin título 5
El diseño debe considerar la posibilidad de escalar en el futuro si la
demanda lo requiere.
La arquitectura debe permitir la adición de nuevas funcionalidades sin
afectar significativamente el código existente.
4.6. Mantenibilidad
El código debe estar bien estructurado, documentado y seguir las mejores
prácticas de desarrollo.
Se deben implementar pruebas automatizadas para facilitar el
mantenimiento y las futuras mejoras.
5. Modelo de Datos
El sistema utilizará las siguientes entidades principales:
1. Roles: Define los diferentes roles de usuario en el sistema (Gerente,
Administrador, Cliente).
2. Usuarios: Almacena la información de los usuarios y su relación con roles y
empresas.
3. Empresas: Contiene la información de las empresas cliente.
4. Sucursales: Registra las diferentes sucursales asociadas a cada empresa.
5. Tipos de Sierra: Catálogo de los diferentes tipos de sierra disponibles.
6. Estados de Sierra: Define los posibles estados en que puede estar una
sierra.
7. Sierras: Almacena la información de cada sierra registrada.
8. Tipos de Afilado: Catálogo de los diferentes tipos de afilado disponibles.
9. Afilados: Registra cada operación de afilado realizada a una sierra.
10. Salidas Masivas: Gestiona las operaciones de registro de salida de
múltiples sierras.
11. Bajas Masivas: Gestiona las operaciones de fin de vida útil de múltiples
sierras.
6. Seguridad y Control de Acceso
Sin título 6
El sistema implementará un control de acceso basado en roles mediante las
políticas de Row Level Security de Supabase:
Gerente: Acceso completo a todas las funcionalidades del sistema.
Administrador: Acceso a todas las funcionalidades excepto la gestión de
usuarios y roles.
Cliente: Acceso restringido a sus propios datos (empresa, sucursales,
sierras y afilados asociados).
7 . Interfaz de Usuario
La interfaz de usuario debe incluir como mínimo:
Página de inicio de sesión
Panel de administración con navegación clara a las diferentes secciones
Formularios para la gestión de todas las entidades del sistema
Módulo específico para el registro de afilados con soporte para lector de
códigos de barras
Módulos para operaciones masivas (registro de salida, fin de vida útil)
Sección de reportes con filtros y opciones de exportación
8. Consideraciones Adicionales
La aplicación debe utilizar metodologías y patrones de diseño que faciliten
la mantenibilidad y extensibilidad.
Se debe considerar la internacionalización para posibles despliegues en
diferentes regiones.
La documentación del sistema debe ser clara y completa para facilitar su
uso y mantenimiento.
Flujo Completo del Proceso de Afilado
1. Recepción de Sierra:
Un cliente trae una sierra para afilar
Sin título 7
El operador escanea el código de barras de la sierra con el lector
El sistema verifica si la sierra ya existe en la base de datos
Si no existe, se registra como nueva sierra en la tabla sierras con
estado "Disponible"
Si existe, se verifica que su estado sea "Disponible" y que esté
activa
2. Registro de Afilado:
El operador registra un nuevo afilado en la tabla afilados
Se asocia la sierra, el tipo de afilado seleccionado y el usuario que lo
registra
Se guarda la fecha de afilado (normalmente la fecha actual)
Cambio de Estado: La sierra se actualiza a estado "En proceso de
afilado"
El sistema verifica que el último afilado de esa sierra tenga fecha de
salida registrada antes de permitir un nuevo afilado
3. Proceso de Afilado (físico, fuera del sistema):
Se realiza el trabajo de afilado físicamente
La sierra permanece en estado "En proceso de afilado"
4. Finalización del Afilado:
Cuando el proceso físico de afilado termina
El operador marca el afilado como completado
Cambio de Estado: La sierra pasa a estado "Lista para retiro"
En este punto, el registro de afilado no tiene aún fecha de salida
5. Entrega al Cliente:a) Entrega Individual:b) Entrega Masiva:
Puede ser de dos formas:
El cliente recoge la sierra
El operador escanea el código de barras
Se completa el registro de afilado añadiendo la fecha de salida
Cambio de Estado: La sierra vuelve a estado "Disponible"
Sin título 8
Se utiliza el módulo de "Salida Masiva" para entregar varias sierras a la
vez
El operador escanea los códigos de barras de múltiples sierras
El sistema verifica que todas estén en estado "Lista para retiro"
Se registra la salida masiva y se actualiza la fecha de salida en todos
los afilados correspondientes
Cambio de Estado: Todas las sierras vuelven a estado "Disponible"
6. Fin de Vida Útil (opcional):
Si una sierra ya no puede ser afilada más o está dañada
Se utiliza el módulo de "Baja Masiva" (aunque sea una sola sierra)
Se escanea el código de barras
Cambio de Estado: La sierra pasa a estado "Fuera de servicio"
Se marca como inactiva (campo activo = FALSE)
Uso del Módulo de Gestión de Estados
Los estados de sierra se utilizan automáticamente en varios puntos clave del
flujo:
1. En la Recepción: Verificar que la sierra esté en estado "Disponible"
2. Al Iniciar Afilado: Cambiar a "En proceso de afilado"
3. Al Completar Afilado: Cambiar a "Lista para retiro"
4. Al Entregar: Volver a "Disponible"
5. Al Dar de Baja: Cambiar a "Fuera de servicio"
El módulo de gestión de estados te permitirá:
Ver qué sierras están en cada estado
Realizar transiciones manuales de estado en casos excepcionales
Mantener un historial de los cambios de estado
Generar reportes por estado (por ejemplo, cuántas sierras están listas para
retiro)